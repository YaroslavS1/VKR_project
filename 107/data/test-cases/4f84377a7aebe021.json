{
  "uid" : "4f84377a7aebe021",
  "name" : "test_trivial_crm[20-01.01.2000-01.01.2022]",
  "fullName" : "tests_vkr.proto.test_trivial_crm#test_trivial_crm",
  "historyId" : "586e8459e3b8c5f4108d1c4cbf1375c6",
  "time" : {
    "start" : 1651333372378,
    "stop" : 1651333373259,
    "duration" : 881
  },
  "status" : "failed",
  "statusMessage" : "AssertionError: assert (((214419 - 60658.99999999999) / 60658.99999999999) * 100) == (((214419 - 60659) / 60659) * 100)",
  "statusTrace" : "start_date = '01.01.2000', end_date = '01.01.2022', n_compaign = 20\n\n    @allure.feature('ADV campaign')\n    @allure.story('Test of creating an advertising company with a given price')\n    @pytest.mark.parametrize(\n        'end_date', [\n            '24.10.2010',\n            '25.11.2010',\n            '01.01.2022'\n        ])\n    @pytest.mark.parametrize(\n        'start_date', [\n            '24.05.2010',\n            '25.05.2010',\n            '01.01.2000',\n        ])\n    @pytest.mark.parametrize('n_compaign', [40, 30, 20, 10, 11, 49])\n    def test_trivial_crm(start_date, end_date, n_compaign):\n        # TODO: тест не полный и довольно тревиальный, нужно дополнить\n        adv_campaigns = list()\n        sum_cost = [random.randint(10000, 90000) for _ in range(n_compaign)]\n        profit = [random.randint(10000, 1000000) for _ in range(n_compaign)]\n        for i in range(n_compaign):\n            adv_campaigns.append(\n                AdvCampaign(\n                    name=f'Test_campain{i}',\n                    start_date=start_date,\n                    end_date=end_date,\n                    sum_cost=sum_cost[i]))\n    \n        crm = {('yandex', f'Test_campain{i}'): profit[i] for i in range(n_compaign)}\n    \n        for i, i_c, adv in zip(range(n_compaign), crm, adv_campaigns):\n            concurrent_adv = count_adv(adv)\n            assert round(concurrent_adv[i_c]) == round(sum_cost[i])\n>           assert ((crm[i_c]-count_adv(adv)[i_c])/concurrent_adv[i_c])*100 == ((profit[i] - sum_cost[i])/sum_cost[i])*100\nE           assert (((214419 - 60658.99999999999) / 60658.99999999999) * 100) == (((214419 - 60659) / 60659) * 100)\n\ntests_vkr/proto/test_trivial_crm.py:51: AssertionError",
  "flaky" : false,
  "newFailed" : true,
  "beforeStages" : [ ],
  "afterStages" : [ ],
  "labels" : [ {
    "name" : "feature",
    "value" : "ADV campaign"
  }, {
    "name" : "story",
    "value" : "Test of creating an advertising company with a given price"
  }, {
    "name" : "parentSuite",
    "value" : "tests_vkr.proto"
  }, {
    "name" : "suite",
    "value" : "test_trivial_crm"
  }, {
    "name" : "host",
    "value" : "fv-az47-236"
  }, {
    "name" : "thread",
    "value" : "2247-MainThread"
  }, {
    "name" : "framework",
    "value" : "pytest"
  }, {
    "name" : "language",
    "value" : "cpython3"
  }, {
    "name" : "package",
    "value" : "tests_vkr.proto.test_trivial_crm"
  }, {
    "name" : "resultFormat",
    "value" : "allure2"
  } ],
  "parameters" : [ {
    "name" : "end_date",
    "value" : "'01.01.2022'"
  }, {
    "name" : "n_compaign",
    "value" : "20"
  }, {
    "name" : "start_date",
    "value" : "'01.01.2000'"
  } ],
  "links" : [ ],
  "hidden" : false,
  "retry" : false,
  "extra" : {
    "severity" : "normal",
    "retries" : [ ],
    "categories" : [ {
      "name" : "Product defects",
      "matchedStatuses" : [ ],
      "flaky" : false
    } ],
    "history" : {
      "statistic" : {
        "failed" : 1,
        "broken" : 0,
        "skipped" : 0,
        "passed" : 3,
        "unknown" : 0,
        "total" : 4
      },
      "items" : [ {
        "uid" : "3a9469af89331583",
        "reportUrl" : "https://YaroslavS1.github.io/VKR_project/106//#testresult/3a9469af89331583",
        "status" : "passed",
        "time" : {
          "start" : 1651330780582,
          "stop" : 1651330781488,
          "duration" : 906
        }
      }, {
        "uid" : "555742c60e601226",
        "reportUrl" : "https://YaroslavS1.github.io/VKR_project/105//#testresult/555742c60e601226",
        "status" : "passed",
        "time" : {
          "start" : 1651330306144,
          "stop" : 1651330307155,
          "duration" : 1011
        }
      }, {
        "uid" : "edb6e65ee09dbb3b",
        "reportUrl" : "https://YaroslavS1.github.io/VKR_project/104//#testresult/edb6e65ee09dbb3b",
        "status" : "passed",
        "time" : {
          "start" : 1651330255968,
          "stop" : 1651330257073,
          "duration" : 1105
        }
      } ]
    },
    "tags" : [ ]
  },
  "source" : "4f84377a7aebe021.json",
  "parameterValues" : [ "'01.01.2022'", "20", "'01.01.2000'" ]
}